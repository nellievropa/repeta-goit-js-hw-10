{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,ECRI,IAAAgB,ECAX,W,sBDAiBC,I,aAErBC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,iBAGRT,IAAA,gB,MAAA,W,WACIU,QAAQC,IAAIJ,MACZ,IAMUK,EAAM,uCAAuFC,OAAhDN,KAAKC,YAAY,iCAAyCK,OAAVN,KAAKE,MAGjCK,MAAjEF,EATM,CACZG,QAAS,CACLC,cAAe,sCAQlBC,MAAK,SAAAC,G,OAAKA,EAAEC,I,IACZF,MAAK,SAAAG,GACFC,EAAKZ,MAAQ,C,OAKrBT,IAAA,Q,IAAJ,WACI,OAAOO,KAAKC,W,MAGhB,SAAUc,GACNf,KAAKC,YAAcc,C,OC9BvB,GCKEC,EAAO,CACTC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,gBAC1CE,YAAaH,SAASC,cAAc,8BAGlCG,EAAiB,IAAIxB,EAE3BkB,EAAKC,WAAWM,iBAAiB,UAMJ,SAAXC,GAEyBA,EAArCC,iBAINH,EAAeI,MAAQF,EAAEG,cAAcC,SAASF,MAAM/C,MAmB1B2C,EAATO,e,IA9BnBb,EAAKK,YAAYE,iBAAiB,SAoCqE,WAcnGD,EAAeO,e","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/news-components.js","<<jsx-config-pragma.js>>","src/js/03-load-more-btn.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export default class NewsApiService {\n    constructor() {\nthis.searchQuery = '';\nthis.page = 1;\n    }\n\n    fetchArticles() {\n        console.log(this);\n        const options = {\n            headers: {\n                Authorization: '15038c1cf1024f0f88ddd0a11fc0f440',\n            },\n            };\n            \n            const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=8&page=${this.page}`;\n            \n          // робимо запит, і якщо він вдалий, то збільшуємо сторінку на 1(якщо не вдалий нам це не треба)\n            fetch(url, options)\n            .then(r => r.json)\n            .then(data => {\n                this.page += 1;\n            });\n    }\n\n    // збережемо нашу змінну класу searchQuery\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}",null,"import '../css/common.css';\nimport NewsApiService from './news-components';\n\n\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    articlesContainer: document.querySelector('.js-articles'),\n    loadMoreBtn: document.querySelector('[data-action=\"load more\"]')\n};\n// створюємо екземпляр классу NewsApiService\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n// щоб прибрати цю глобальну змінну ми в класі NewsApiService створимо її заміну this.searchQuery = ''; і там же будемо її запам'ятовувати\n// let searchQuery ='';\n// і тоді ми можемо її прибрати звідси\n\nfunction onSearch(e) {\n    // щоб не перезавантажувалась сторінка робимоа preventDefault\n    e.preventDefault();\n// отримуєм доступ до форми, щоб читати запити\n// тут достукуємось також до цієї змінної\n//  searchQuery = e.currentTarget.elements.query.value\nnewsApiService.query = e.currentTarget.elements.query.value\n\n// При сабміті форми треба викликати сторінку на  newsapi.org\n    // const options = {\n    //     headers: {\n    //         Authorization: '15038c1cf1024f0f88ddd0a11fc0f440',\n    //     },\n    //     };\n        \n    //     const url = `https://newsapi.org/v2/everything?q=${searchQuery}&language=en&pageSize=8&page=1`;\n        \n        \n    //     fetch(url, options)\n    //     .then(r => r.json)\n    //     .then(console.log());\n    // всю цю логіку виносимо в окремий спеціально створений файл news-components\n    // і після того, як ми створили екземпляр классу NewsApiService і викликали його вище, звертаємось до нього\n    // а  searchQuery  передаємо йому як аргумент\n\n    newsApiService.fetchArticles();\n}\n\n// ми хочемо підгружати наступні сторінки при натисканні кнопки \"Показати ще\"\n// робим те саме, АЛЕ маємо проблему як достукатися до змінної const searchQuery ,якщо вона існує тільки в попередній функції?\n// тобто під час сабміту (натискання кнопки \"Пошук\") ми повинні зберігати десь ці данні, щоб потім їх взяти звідти! використовуємо LET\nfunction onLoadMore() {\n    // const options = {\n    //     headers: {\n    //         Authorization: '15038c1cf1024f0f88ddd0a11fc0f440',\n    //     },\n    //     };\n        \n    //     const url = `https://newsapi.org/v2/everything?q=${searchQuery}&language=en&pageSize=8&page=1`;\n        \n        \n    //     fetch(url, options)\n    //     .then(r => r.json)\n    //     .then(console.log());\n    // в цій функції все робимо аналогічно\n    newsApiService.fetchArticles();\n}\n\n\n\n\n\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$d789a2f404dcc528$export$2e2bcd8739ae039","NewsApiService","this","searchQuery","page","console","log","url","concat","fetch","headers","Authorization","then","r","json","data","_this","newQuery","$b4ead9e99a445bb4$var$refs","searchForm","document","querySelector","articlesContainer","loadMoreBtn","$b4ead9e99a445bb4$var$newsApiService","addEventListener","e","preventDefault","query","currentTarget","elements","fetchArticles"],"version":3,"file":"03-load-more-btn.66e23aae.js.map"}