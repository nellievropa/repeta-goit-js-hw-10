{"mappings":"gBAUAA,EAAe,CAACC,iBAPhB,SAA0BC,GACvB,IAAMC,EAAM,GAAuBC,OAHrB,4BAGU,aAAqBA,OAAVF,GACnC,OAAOG,MAAMF,GAAKG,MACjB,SAAAC,G,OAAYA,EAASC,M,MC+CT,IAAVC,ECpDW,CACTC,cAAeC,SAASC,cAAc,sBACtCC,WAAYF,SAASC,cAAc,oBDkHJ,SAA9BE,EAAmBC,GACxB,IAAMC,EAASC,eAAeF,GAElCN,EAAKC,cAAcQ,UAAYF,C,CAKxB,SAAEG,EAAaC,GAClBC,MAAM,4B,CAvEVZ,EAAKI,WAAWS,iBAAiB,UAsBP,SAARC,GAClBA,EAAEC,iBAGwB,IAApBC,EAAOF,EAAEG,cACfC,QAAQC,IAAIH,EAAKI,UACjB,IAAMC,EAAcL,EAAKI,SAASE,MAAMC,MAIxChC,EAAIC,iBAAiB6B,GACpBxB,KAAKQ,GACLmB,MAAMd,GAQNe,SAAQ,WACTT,EAAKU,O,OAiCL9B,MAAM,uDACLC,MAAK,SAAA8B,G,OAAKA,EAAE5B,M,IACZF,KAAKqB,QAAQC,KAIdvB,MAAM,oGACLC,MAAK,SAAA8B,G,OAAKA,EAAE5B,M,IACZF,KAAKqB,QAAQC,KAWdvB,MAPY,0CACG,CACXgC,QAAS,CACL,YAAa,sCAKpB/B,MAAK,SAAA8B,G,OAAKA,EAAE5B,M,IACZF,KAAKqB,QAAQC,I","sources":["src/js/api-service.js","src/js/01-fetch-api.js","src/js/get-refs.js"],"sourcesContent":["// створимо змінну з коренем нашого посилання\nconst BASE_URL = 'https://pokeapi.co/api/v2';\n\nfunction fetchPokemonById(pokemonId) {\n   const url = `${BASE_URL}/pokemon/${pokemonId}`\n   return fetch(url).then(\n    response => response.json());\n}\n\n\nexport default {fetchPokemonById};","import '../css/common.css';\nimport API from './api-service';\nimport getRefs from './get-refs';\n// import Handlebars from \"handlebars\";\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const a = \"0\";\n// const b = a ?? \"b\";\n// const c = a || \"c\";\n\n\n// console.log('hello world')\n// https://pokeapi.co/\n// const r = fetch('https://pokeapi.co/api/v2/ability/5')\n// console.log(r);\n\n\n// щоб достукатись до обёэкта додаэмо then і виводимо дані \n\n// fetch('https://pokeapi.co/api/v2/ability/5').then(data => {\n//     console.log(data)\n// });\n\n// отримуємо responce i body:ReadableStream\n// щоб розпакувати ReadableStream використовуємо один з методів \n// blob - поверне картинку, аудіо або відео\n// json - поверне в форматі json\n// text - поверне тектовий файл з даними(таблиці)\n\n// тому наш запит буде виглядати так : піди принеси\n// fetch('https://pokeapi.co/api/v2/pokemon/5')\n// .then(response => {\n//     // console.log(response.json());\n//     // повернемо результат відповіді, щоб можно було з ним далі працювати і додати до нього наступний then\n//     // розпарси відповідь\n//     return response.json();\n// })\n// .then(pokemon => {\n//     console.log(pokemon);\n//     // якщо щось не так зроби catch\n// })\n// .catch(error => {\n//     console.log(error);\n// });\n\n// Content-Type : text/css, \n// винесемо їх в окремий файл get-refs.js\n// const refs = {\n//     cardContainer: document.querySelector('.js-card-container'),\n//     saerchForm: document.querySelector('.js-search-form')\n// }\n// після import виглядає так\n\nconst refs = getRefs();\n\nrefs.saerchForm.addEventListener('submit', onSearch)\n// щоб отримати колекцію покемонів \n// fetch('https://pokeapi.co/api/v2/ability/8')\n// .then(response => {\n\n//     return response.json();\n// })\n// .then(pokemon => {\n//     console.log(pokemon);\n//     const markup = pokemonCardTpl(pokemon);\n//     console.log(markup);\n// refs.cardContainer.innerHTML = markup;\n\n// })\n// .catch(error => {\n//     console.log(error);\n// });\n\n// перепишемо код зверху так, щоб він міг працювати з з любими даними і незалежно\n\n// 3 тоді наш код буде виглядати так \n\nfunction onSearch(e) {\ne.preventDefault();\n\n// робимо динамічне звернення до ID pokemon\nconst form = e.currentTarget;\nconsole.log(form.elements)\nconst searchQuery = form.elements.query.value;\n\n// потім searchQuery передаємо як ID\n// і після імпорту викликаємо цю функцію чере API.\nAPI.fetchPokemonById(searchQuery)\n.then(renderPockemonCard)\n.catch(onCatchError\n//     error => {\n//     // а потім виносимо все в окрему функцію\n//     console.log('ЦЕ CATCH!!!');\n\n//     alert('УПС... щось пішло не так!')\n// }\n)\n.finally(()=> {\nform.reset();\n});\n\n}\n\n// 2 винесемо в функцію отримання Промісу і його розпакування (ренедерення) за дропомогою JSON\n// function fetchPokemonById(pokemonId) {\n//     // винесемо в крему змінну посилання URL\n//     const url = `https://pokeapi.co/api/v2/pokemon/${pokemonId}`\n//    return fetch(url).then(\n//     response => {\n//     return response.json();\n//    },\n//    );\n// }\n// а потім винесемо її в допоміжний файл api-service.js\n\n\n// 1 винесемо в окрему функцію малювання покемона \nfunction renderPockemonCard(pokemon) {\n    const markup = pokemonCardTpl(pokemon);\n    // console.log(markup);\nrefs.cardContainer.innerHTML = markup;\n}\n\n// 4 помилка\n\nfunction onCatchError(error) {\n    alert('УПС... щось пішло не так!');\n}\n\n// _____________________________________\n\nfetch('https://pokeapi.co/api/v2/pokemon?limit=50&offset=0')\n.then(r => r.json())\n.then(console.log);\n\n\n\nfetch('https://pixabay.com/api/?key=4823621-792051e21e56534e6ae2e472f&q=yellow+flowers&image_type=photo')\n.then(r => r.json())\n.then(console.log);\n\n// щоб розширити можливості пошуків розбиваємо запроси\n\nconst url = 'https://newsapi.org/v2/everything?q=car';\nconst options ={\n    headers: {\n        'X-Api-Key': '4330ebfabc654a6992c2aa792f3173a3'\n    },\n}\n\nfetch(url, options)\n.then(r => r.json())\n.then(console.log)","export default function getRefs(params) {\n    const refs = {\n        cardContainer: document.querySelector('.js-card-container'),\n        saerchForm: document.querySelector('.js-search-form'),\n   };\n   return refs;\n}"],"names":["$0ed9756ae2b68474$export$2e2bcd8739ae039","fetchPokemonById","pokemonId","url","concat","fetch","then","response","json","$33010803a113876d$var$refs","cardContainer","document","querySelector","saerchForm","$33010803a113876d$var$renderPockemonCard","pokemon","markup","pokemonCardTpl","innerHTML","$33010803a113876d$var$onCatchError","error","alert","addEventListener","e","preventDefault","form","currentTarget","console","log","elements","searchQuery","query","value","catch","finally","reset","r","headers"],"version":3,"file":"01-fetch-api.bc45c3e8.js.map"}