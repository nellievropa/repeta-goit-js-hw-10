const e={headers:{Authorization:"15038c1cf1024f0f88ddd0a11fc0f440"}};const t={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles"),loadMoreBtn:document.querySelector('[data-action="load more"]')},s=new class{constructor(){this.searchQuery="",this.page=1}fetchArticles(){const t=`https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=8&page=${this.page}`;return fetch(t,e).then((e=>e.json())).then((({articles:e})=>(this.incrementPage(),console.log("Після запросу: ",this),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}},r=(new class{constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показати більше",this.refs.spinner.classList.add(".is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Завантажуємо....",this.refs.spinner.classList.remove(".is-hidden")}show(){this.refs.button.classList.remove(".is-hidden")}hide(){this.refs.button.classList.add(".is-hidden")}}('[data-action="load more"]'),document.querySelector(".articles"));function n(e){const t=e.map((({urlToImage:e,title:t,author:s,description:r})=>`<li>\n      <img src="${e}" alt="" width="480">\n      <h2>${t}</h2>\n      <p>Posted by: ${s}</p>\n      <p>${r}</p>\n\n       </li>`)).join("");r.innerHTML=t}console.log(s),t.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),s.query=e.currentTarget.elements.query.value,""===s.query)return alert("Please, make a request!");s.resetPage(),s.fetchArticles().then((e=>{t.articlesContainer.innerHTML="",n(e)}))})),t.loadMoreBtn.addEventListener("click",(function(){s.fetchArticles().then(n)}));
//# sourceMappingURL=03-load-more-btn.3ea5177e.js.map
